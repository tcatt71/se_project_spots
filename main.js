!function(){"use strict";const e={formSelector:".form",inputSelector:".form__input",errorElementSelector:".form__error-msg",submitButtonSelector:".form__button_type_save",inactiveButtonClass:"form__button_disabled",inputInvalidClass:"form__input_invalid",errorClass:"form__error-msg_visible"};function t(e){return e.validity.valid}function r(e,r,o){!function(e){return e.some(e=>!t(e))}(e)?(r.disabled=!1,r.classList.remove(o.inactiveButtonClass)):(r.disabled=!0,r.classList.add(o.inactiveButtonClass))}function o(e,t){e.textContent=function(e){return e.validationMessage}(t)}function n(e,r,n){const s=r.querySelector(`#${e.id} + ${n.errorElementSelector}`);t(e)?(e.classList.remove(n.inputInvalidClass),s.classList.remove(n.errorClass),o(s,e)):(e.classList.add(n.inputInvalidClass),o(s,e),s.classList.add(n.errorClass))}const s=document.querySelectorAll(".modal"),a=document.querySelector(".profile"),c=document.querySelector(".profile__avatar"),i=document.querySelector(".profile__title"),l=document.querySelector(".profile__description"),d=document.querySelector(".button_type_text"),u=document.querySelector(".profile__button_type_large"),m=a.querySelector(".button_type_edit-avatar"),_=document.querySelector("#edit-profile-modal"),h=_.querySelector("#name"),f=_.querySelector("#description"),p=document.forms.namedItem("edit-profile-form"),v=Array.from(p.querySelectorAll(".form__input")),y=p.querySelector("[type='submit']"),S=document.querySelector("#new-post-modal"),b=document.forms.namedItem("new-post-form"),C=S.querySelector("#link"),q=S.querySelector("#caption"),k=Array.from(b.querySelectorAll(".form__input")),E=S.querySelector(".form__button_type_save"),L=document.querySelector("#confirmation-modal"),g=document.forms["confirmation-form"],x=g.querySelector(".button_type_delete"),U=L.querySelector(".button_type_cancel"),A=document.querySelector(".cards__list"),$=A.querySelector("#card-template"),I=document.querySelectorAll("[class*='close']"),R=document.querySelector("#preview-image-modal"),D=R.querySelector(".modal__description"),T=R.querySelector(".modal__image"),w=document.querySelector("#edit-avatar-modal"),B=document.forms["edit-avatar-form"],P=B.elements.link,N=B.querySelector(".form__button_type_save"),O=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(e=>this._processResponse(e))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(e=>this._processResponse(e))}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(e=>this._processResponse(e))}addCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(e=>this._processResponse(e))}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(e=>this._processResponse(e))}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(e=>this._processResponse(e))}unlikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(e=>this._processResponse(e))}updateAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(e=>this._processResponse(e))}_processResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9b992123-8ee4-427e-9cb1-806d78626daa","Content-Type":"application/json"}});let j,J;function H(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",M)}function z(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",M)}function M(e){const t=document.querySelector(".modal_is-opened");"Escape"===e.key&&z(t)}function F(e){const t=$.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__image"),o=t.querySelector(".card__description"),n=t.querySelector(".card__button_type_like"),s=t.querySelector(".card__button_type_delete");return r.src=e.link,r.alt=e.name,o.textContent=e.name,e.isLiked&&n.classList.add("card__button_liked"),n.addEventListener("click",()=>function(e,t){e.classList.contains("card__button_liked")?O.unlikeCard(t._id).then(()=>e.classList.toggle("card__button_liked")).catch(e=>console.error(e)):O.likeCard(t._id).then(()=>e.classList.toggle("card__button_liked")).catch(e=>console.error(e))}(n,e)),s.addEventListener("click",()=>function(e,t){j=e,J=t._id,H(L)}(t,e)),r.addEventListener("click",()=>{D.textContent=o.textContent,T.src=r.src,T.alt=r.alt,H(R)}),t}O.getInitialCards().then(e=>e.forEach(e=>{!function(e){const t=F(e);A.append(t)}(e)})).catch(e=>console.error(e)),O.getUserInfo().then(e=>{return t=e,i.textContent=t.name,l.textContent=t.about,void(c.src=t.avatar);var t}).catch(e=>console.error(e)),b.addEventListener("submit",function(t){t.preventDefault(),E.textContent="Saving...";const o={name:q.value,link:C.value};O.addCard(o).then(e=>{E.textContent="Save";const t=F(e);A.prepend(t)}).catch(e=>console.error(e)),b.reset(),r(k,E,e),z(S)}),p.addEventListener("submit",function(e){e.preventDefault(),y.textContent="Saving...";const t={name:h.value,about:f.value};O.editUserInfo(t).then(e=>{!function(e){i.textContent=e.name,l.textContent=e.about}(e),y.textContent="Save"}).catch(e=>console.error(e)),z(_)}),d.addEventListener("click",()=>{H(_),h.value=i.textContent,f.value=l.textContent,v.forEach(t=>n(t,p,e))}),u.addEventListener("click",()=>{H(S),r(k,E,e)}),U.addEventListener("click",()=>z(L)),g.addEventListener("submit",function(e){e.preventDefault(),x.textContent="Deleting...",O.removeCard(J).then(()=>{j.remove(),x.textContent="Delete",z(L)}).catch(e=>console.error(e))}),m.addEventListener("click",()=>H(w)),B.addEventListener("submit",e=>{e.preventDefault(),N.textContent="Saving...";const t={avatar:P.value};O.updateAvatar(t).then(e=>{c.src=e.avatar,N.textContent="Save",z(w)}).catch(e=>console.error(e))});for(const e of I){const t=e.closest(".modal");e.addEventListener("click",()=>z(t))}var G;s.forEach(e=>{e.addEventListener("click",t=>{t.target===t.currentTarget&&z(e)})}),G=e,Array.from(document.querySelectorAll(G.formSelector)).forEach(e=>{const t=e.querySelector(G.submitButtonSelector),o=Array.from(e.querySelectorAll(G.inputSelector));o.forEach(s=>{s.addEventListener("input",()=>{n(s,e,G),r(o,t,G)})})})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YixnQkFFdkRXLEVBQU8rSCxRQUFTbkksSUFDZEEsRUFBTXNHLGlCQUFpQixRQUFTLEtBQzlCcEYsRUFBc0JsQixFQUFPbUIsRUFBTWIsR0FDbkNILEVBQWtCQyxFQUFRK0ksRUFBVzdJLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvdXRpbHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIGVycm9yRWxlbWVudFNlbGVjdG9yOiBcIi5mb3JtX19lcnJvci1tc2dcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uX3R5cGVfc2F2ZVwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRJbnZhbGlkQ2xhc3M6IFwiZm9ybV9faW5wdXRfaW52YWxpZFwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9fZXJyb3ItbXNnX3Zpc2libGVcIixcclxufTtcclxuXHJcbmZ1bmN0aW9uIGlucHV0SXNWYWxpZChpbnB1dCkge1xyXG4gIHJldHVybiBpbnB1dC52YWxpZGl0eS52YWxpZDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFzSW52YWxpZElucHV0cyhpbnB1dHMpIHtcclxuICByZXR1cm4gaW5wdXRzLnNvbWUoKGlucHV0KSA9PiAhaW5wdXRJc1ZhbGlkKGlucHV0KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbiwgY29uZmlnKSB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dHMoaW5wdXRzKSkge1xyXG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRWYWxpZGF0aW9uTWVzc2FnZShpbnB1dCkge1xyXG4gIHJldHVybiBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVmFsaWRhdGlvbk1lc3NhZ2UoZXJyb3JFbGVtZW50LCBpbnB1dCkge1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGdldFZhbGlkYXRpb25NZXNzYWdlKGlucHV0KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUlucHV0VmFsaWRhdGlvbihpbnB1dCwgZm9ybSwgY29uZmlnKSB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgYCMke2lucHV0LmlkfSArICR7Y29uZmlnLmVycm9yRWxlbWVudFNlbGVjdG9yfWBcclxuICApO1xyXG5cclxuICBpZiAoaW5wdXRJc1ZhbGlkKGlucHV0KSkge1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRJbnZhbGlkQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgdXBkYXRlVmFsaWRhdGlvbk1lc3NhZ2UoZXJyb3JFbGVtZW50LCBpbnB1dCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0SW52YWxpZENsYXNzKTtcclxuICAgIHVwZGF0ZVZhbGlkYXRpb25NZXNzYWdlKGVycm9yRWxlbWVudCwgaW5wdXQpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZVZhbGlkYXRpb24oY29uZmlnKSB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG5cclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcblxyXG4gICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgaGFuZGxlSW5wdXRWYWxpZGF0aW9uKGlucHV0LCBmb3JtLCBjb25maWcpO1xyXG4gICAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0cywgc3VibWl0QnRuLCBjb25maWcpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsImNvbnN0IEJBU0VfVVJMID0gXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiO1xyXG5jb25zdCBBUElfS0VZID0gXCI5Yjk5MjEyMy04ZWU0LTQyN2UtOWNiMS04MDZkNzg2MjZkYWFcIjtcclxuXHJcbmV4cG9ydCB7IEJBU0VfVVJMLCBBUElfS0VZIH07XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7XHJcbiAgc2V0dGluZ3MsXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUsXHJcbiAgaGFuZGxlSW5wdXRWYWxpZGF0aW9uLFxyXG4gIGVuYWJsZVZhbGlkYXRpb24sXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcclxuaW1wb3J0IHsgQVBJX0tFWSwgQkFTRV9VUkwgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5jb25zdCBtb2RhbExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcclxuY29uc3QgcHJvZmlsZUF2YXRhckltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xyXG5jb25zdCBwcm9maWxlVGl0bGVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX3RleHRcIik7XHJcbmNvbnN0IHByb2ZpbGVMYXJnZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uX3R5cGVfbGFyZ2VcIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QXZhdGFyQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmJ1dHRvbl90eXBlX2VkaXQtYXZhdGFyXCJcclxuKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZS1tb2RhbFwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVOYW1lSW5wdXQgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID1cclxuICBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zLm5hbWVkSXRlbShcImVkaXQtcHJvZmlsZS1mb3JtXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUlucHV0cyA9IEFycmF5LmZyb20oXHJcbiAgZWRpdFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIilcclxuKTtcclxuY29uc3QgZWRpdFByb2ZpbGVTdWJtaXRCdXR0b24gPVxyXG4gIGVkaXRQcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiW3R5cGU9J3N1Ym1pdCddXCIpO1xyXG5cclxuY29uc3QgbmV3UG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcG9zdC1tb2RhbFwiKTtcclxuY29uc3QgbmV3UG9zdEZvcm0gPSBkb2N1bWVudC5mb3Jtcy5uYW1lZEl0ZW0oXCJuZXctcG9zdC1mb3JtXCIpO1xyXG5jb25zdCBuZXdQb3N0TGlua0lucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbGlua1wiKTtcclxuY29uc3QgbmV3UG9zdENhcHRpb25JbnB1dCA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2NhcHRpb25cIik7XHJcbmNvbnN0IG5ld1Bvc3RJbnB1dHMgPSBBcnJheS5mcm9tKG5ld1Bvc3RGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIikpO1xyXG5jb25zdCBuZXdQb3N0U3VibWl0QnV0dG9uID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9fYnV0dG9uX3R5cGVfc2F2ZVwiXHJcbik7XHJcblxyXG5jb25zdCBjb25maXJtTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm1hdGlvbi1tb2RhbFwiKTtcclxuY29uc3QgZGVsZXRlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY29uZmlybWF0aW9uLWZvcm1cIl07XHJcbmNvbnN0IGNvbmZpcm1TdWJtaXRCdXR0b24gPSBkZWxldGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfZGVsZXRlXCIpO1xyXG5jb25zdCBjb25maXJtQ2FuY2VsQnV0dG9uID0gY29uZmlybU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfY2FuY2VsXCIpO1xyXG5cclxuY29uc3QgY2FyZExpc3RFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XHJcblxyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBjYXJkTGlzdEVsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcclxuXHJcbmNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbY2xhc3MqPSdjbG9zZSddXCIpO1xyXG5cclxuY29uc3QgcHJldmlld0ltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdJbWFnZURlc2NyaXB0aW9uID0gcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2VDYXJkSW1hZ2UgPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuXHJcbmNvbnN0IGVkaXRBdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1hdmF0YXItbW9kYWxcIik7XHJcbmNvbnN0IGVkaXRBdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LWF2YXRhci1mb3JtXCJdO1xyXG5jb25zdCBlZGl0QXZhdGFySW5wdXQgPSBlZGl0QXZhdGFyRm9ybS5lbGVtZW50c1tcImxpbmtcIl07XHJcbmNvbnN0IGVkaXRBdmF0YXJTdWJtaXRCdXR0b24gPSBlZGl0QXZhdGFyRm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmZvcm1fX2J1dHRvbl90eXBlX3NhdmVcIlxyXG4pO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogQkFTRV9VUkwsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogQVBJX0tFWSxcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGV0IHNlbGVjdGVkQ2FyZDtcclxubGV0IHNlbGVjdGVkQ2FyZElkO1xyXG5cclxuZnVuY3Rpb24gc2V0UHJvZmlsZUNvbnRlbnQodXNlcikge1xyXG4gIHByb2ZpbGVUaXRsZUVsLnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gdXNlci5hYm91dDtcclxuICBwcm9maWxlQXZhdGFySW1nLnNyYyA9IHVzZXIuYXZhdGFyO1xyXG59XHJcblxyXG5hcGlcclxuICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigoY2FyZHMpID0+XHJcbiAgICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIHJlbmRlckNhcmQoY2FyZCwgXCJhcHBlbmRcIik7XHJcbiAgICB9KVxyXG4gIClcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHNldFByb2ZpbGVDb250ZW50KGRhdGEpKVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVLZXlFeGl0TW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVLZXlFeGl0TW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlc2NhcGVLZXlFeGl0TW9kYWwoZXZ0KSB7XHJcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuXHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIGNsb3NlTW9kYWwobW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gIGNvbnN0IGNhcmRUaXRsZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2Rlc2NyaXB0aW9uXCIpO1xyXG4gIGNvbnN0IGxpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbl90eXBlX2xpa2VcIik7XHJcbiAgY29uc3QgZGVsZXRlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b25fdHlwZV9kZWxldGVcIik7XHJcblxyXG4gIGNhcmRJbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgY2FyZEltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuICBjYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cclxuICBpZiAoZGF0YS5pc0xpa2VkKSB7XHJcbiAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19idXR0b25fbGlrZWRcIik7XHJcbiAgfVxyXG5cclxuICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgaGFuZGxlTGlrZUJ1dHRvbkNsaWNrKGxpa2VCdXR0b24sIGRhdGEpXHJcbiAgKTtcclxuICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBkYXRhKVxyXG4gICk7XHJcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBwcmV2aWV3SW1hZ2VEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGNhcmRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgICBwcmV2aWV3SW1hZ2VDYXJkSW1hZ2Uuc3JjID0gY2FyZEltYWdlLnNyYztcclxuICAgIHByZXZpZXdJbWFnZUNhcmRJbWFnZS5hbHQgPSBjYXJkSW1hZ2UuYWx0O1xyXG4gICAgb3Blbk1vZGFsKHByZXZpZXdJbWFnZU1vZGFsKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQnV0dG9uQ2xpY2soY2FyZCwgZGF0YSkge1xyXG4gIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2J1dHRvbl9saWtlZFwiKSkge1xyXG4gICAgYXBpXHJcbiAgICAgIC51bmxpa2VDYXJkKGRhdGEuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiBjYXJkLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19idXR0b25fbGlrZWRcIikpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmxpa2VDYXJkKGRhdGEuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiBjYXJkLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19idXR0b25fbGlrZWRcIikpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YSkge1xyXG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xyXG4gIHNlbGVjdGVkQ2FyZElkID0gZGF0YS5faWQ7XHJcbiAgb3Blbk1vZGFsKGNvbmZpcm1Nb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uZmlybVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRpbmcuLi5cIjtcclxuXHJcbiAgYXBpXHJcbiAgICAucmVtb3ZlQ2FyZChzZWxlY3RlZENhcmRJZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xyXG4gICAgICBjb25maXJtU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcclxuICAgICAgY2xvc2VNb2RhbChjb25maXJtTW9kYWwpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVOZXdQb3N0Rm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgbmV3UG9zdFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcblxyXG4gIGNvbnN0IGZvcm1EYXRhID0ge1xyXG4gICAgbmFtZTogbmV3UG9zdENhcHRpb25JbnB1dC52YWx1ZSxcclxuICAgIGxpbms6IG5ld1Bvc3RMaW5rSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuXHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZChmb3JtRGF0YSlcclxuICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICBuZXdQb3N0U3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZERhdGEpO1xyXG4gICAgICBjYXJkTGlzdEVsLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG5cclxuICBuZXdQb3N0Rm9ybS5yZXNldCgpO1xyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKG5ld1Bvc3RJbnB1dHMsIG5ld1Bvc3RTdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcclxuICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRleHRFbGVtZW50cyh1c2VyKSB7XHJcbiAgcHJvZmlsZVRpdGxlRWwudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGVkaXRQcm9maWxlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgY29uc3QgZm9ybURhdGEgPSB7XHJcbiAgICBuYW1lOiBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcclxuICAgIGFib3V0OiBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuXHJcbiAgYXBpXHJcbiAgICAuZWRpdFVzZXJJbmZvKGZvcm1EYXRhKVxyXG4gICAgLnRoZW4oKHVzZXIpID0+IHtcclxuICAgICAgdXBkYXRlVGV4dEVsZW1lbnRzKHVzZXIpO1xyXG4gICAgICBlZGl0UHJvZmlsZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG5cclxuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmQsIG1ldGhvZCkge1xyXG4gIGNvbnN0IGNhcmRFbCA9IGdldENhcmRFbGVtZW50KGNhcmQpO1xyXG4gIGNhcmRMaXN0RWxbbWV0aG9kXShjYXJkRWwpO1xyXG59XHJcblxyXG5uZXdQb3N0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZU5ld1Bvc3RGb3JtU3VibWl0KTtcclxuZWRpdFByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0KTtcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbiAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlVGl0bGVFbC50ZXh0Q29udGVudDtcclxuICBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudDtcclxuICBlZGl0UHJvZmlsZUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT5cclxuICAgIGhhbmRsZUlucHV0VmFsaWRhdGlvbihpbnB1dCwgZWRpdFByb2ZpbGVGb3JtLCBzZXR0aW5ncylcclxuICApO1xyXG59KTtcclxucHJvZmlsZUxhcmdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKG5ld1Bvc3RNb2RhbCk7XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUobmV3UG9zdElucHV0cywgbmV3UG9zdFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xyXG59KTtcclxuY29uZmlybUNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChjb25maXJtTW9kYWwpKTtcclxuZGVsZXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZURlbGV0ZVN1Ym1pdCk7XHJcbnByb2ZpbGVFZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gIG9wZW5Nb2RhbChlZGl0QXZhdGFyTW9kYWwpXHJcbik7XHJcbmVkaXRBdmF0YXJGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBlZGl0QXZhdGFyU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgY29uc3QgZm9ybURhdGEgPSB7IGF2YXRhcjogZWRpdEF2YXRhcklucHV0LnZhbHVlIH07XHJcblxyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihmb3JtRGF0YSlcclxuICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVBdmF0YXJJbWcuc3JjID0gdXNlci5hdmF0YXI7XHJcbiAgICAgIGVkaXRBdmF0YXJTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuXHJcbiAgICAgIGNsb3NlTW9kYWwoZWRpdEF2YXRhck1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxufSk7XHJcblxyXG5mb3IgKGNvbnN0IGJ1dHRvbiBvZiBjbG9zZUJ1dHRvbnMpIHtcclxuICBjb25zdCBwYXJlbnRNb2RhbCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xyXG5cclxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwocGFyZW50TW9kYWwpKTtcclxufVxyXG5cclxubW9kYWxMaXN0LmZvckVhY2goKG1vZGFsKSA9PiB7XHJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIF9wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7XHJcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJlcnJvckVsZW1lbnRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0SW52YWxpZENsYXNzIiwiZXJyb3JDbGFzcyIsImlucHV0SXNWYWxpZCIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRzIiwiYnV0dG9uIiwiY29uZmlnIiwic29tZSIsImhhc0ludmFsaWRJbnB1dHMiLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInVwZGF0ZVZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImdldFZhbGlkYXRpb25NZXNzYWdlIiwiaGFuZGxlSW5wdXRWYWxpZGF0aW9uIiwiZm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsIm1vZGFsTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInByb2ZpbGUiLCJwcm9maWxlQXZhdGFySW1nIiwicHJvZmlsZVRpdGxlRWwiLCJwcm9maWxlRGVzY3JpcHRpb25FbCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUxhcmdlQnRuIiwicHJvZmlsZUVkaXRBdmF0YXJCdXR0b24iLCJlZGl0UHJvZmlsZU1vZGFsIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJlZGl0UHJvZmlsZUZvcm0iLCJmb3JtcyIsIm5hbWVkSXRlbSIsImVkaXRQcm9maWxlSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwiZWRpdFByb2ZpbGVTdWJtaXRCdXR0b24iLCJuZXdQb3N0TW9kYWwiLCJuZXdQb3N0Rm9ybSIsIm5ld1Bvc3RMaW5rSW5wdXQiLCJuZXdQb3N0Q2FwdGlvbklucHV0IiwibmV3UG9zdElucHV0cyIsIm5ld1Bvc3RTdWJtaXRCdXR0b24iLCJjb25maXJtTW9kYWwiLCJkZWxldGVGb3JtIiwiY29uZmlybVN1Ym1pdEJ1dHRvbiIsImNvbmZpcm1DYW5jZWxCdXR0b24iLCJjYXJkTGlzdEVsIiwiY2FyZFRlbXBsYXRlIiwiY2xvc2VCdXR0b25zIiwicHJldmlld0ltYWdlTW9kYWwiLCJwcmV2aWV3SW1hZ2VEZXNjcmlwdGlvbiIsInByZXZpZXdJbWFnZUNhcmRJbWFnZSIsImVkaXRBdmF0YXJNb2RhbCIsImVkaXRBdmF0YXJGb3JtIiwiZWRpdEF2YXRhcklucHV0IiwiZWxlbWVudHMiLCJlZGl0QXZhdGFyU3VibWl0QnV0dG9uIiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwiX3Byb2Nlc3NSZXNwb25zZSIsImdldFVzZXJJbmZvIiwiZWRpdFVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwibGluayIsInJlbW92ZUNhcmQiLCJjYXJkSWQiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXIiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhdXRob3JpemF0aW9uIiwic2VsZWN0ZWRDYXJkIiwic2VsZWN0ZWRDYXJkSWQiLCJvcGVuTW9kYWwiLCJtb2RhbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlc2NhcGVLZXlFeGl0TW9kYWwiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZSIsImNhcmRUaXRsZUVsZW1lbnQiLCJsaWtlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwic3JjIiwiYWx0IiwiaXNMaWtlZCIsImNhcmQiLCJjb250YWlucyIsIl9pZCIsInRvZ2dsZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaGFuZGxlTGlrZUJ1dHRvbkNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmRFbCIsInJlbmRlckNhcmQiLCJzZXRQcm9maWxlQ29udGVudCIsInVzZXIiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwidmFsdWUiLCJjYXJkRGF0YSIsInByZXBlbmQiLCJyZXNldCIsInVwZGF0ZVRleHRFbGVtZW50cyIsInBhcmVudE1vZGFsIiwiY2xvc2VzdCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJzdWJtaXRCdG4iXSwic291cmNlUm9vdCI6IiJ9