!function(){"use strict";const e={formSelector:".form",inputSelector:".form__input",errorElementSelector:".form__error-msg",submitButtonSelector:".form__button_type_save",inactiveButtonClass:"form__button_disabled",inputInvalidClass:"form__input_invalid",errorClass:"form__error-msg_visible"};function t(e){return e.validity.valid}function r(e,r,o){!function(e){return e.some(e=>!t(e))}(e)?(r.disabled=!1,r.classList.remove(o.inactiveButtonClass)):(r.disabled=!0,r.classList.add(o.inactiveButtonClass))}function o(e,t){e.textContent=function(e){return e.validationMessage}(t)}function n(e,r,n){const s=r.querySelector(`#${e.id} + ${n.errorElementSelector}`);t(e)?(e.classList.remove(n.inputInvalidClass),s.classList.remove(n.errorClass),o(s,e)):(e.classList.add(n.inputInvalidClass),o(s,e),s.classList.add(n.errorClass))}const s=document.querySelectorAll(".modal"),a=document.querySelector(".profile"),c=document.querySelector(".profile__avatar"),i=document.querySelector(".profile__title"),l=document.querySelector(".profile__description"),d=document.querySelector(".button_type_text"),u=document.querySelector(".profile__button_type_large"),m=a.querySelector(".button_type_edit-avatar"),_=document.querySelector("#edit-profile-modal"),h=_.querySelector("#name"),f=_.querySelector("#description"),p=document.forms.namedItem("edit-profile-form"),v=Array.from(p.querySelectorAll(".form__input")),y=p.querySelector("[type='submit']"),S=document.querySelector("#new-post-modal"),b=document.forms.namedItem("new-post-form"),C=S.querySelector("#link"),q=S.querySelector("#caption"),k=Array.from(b.querySelectorAll(".form__input")),E=S.querySelector(".form__button_type_save"),L=document.querySelector("#confirmation-modal"),g=document.forms["confirmation-form"],x=g.querySelector(".button_type_delete"),U=L.querySelector(".button_type_cancel"),A=document.querySelector(".cards__list"),$=A.querySelector("#card-template"),I=document.querySelectorAll("[class*='close']"),R=document.querySelector("#preview-image-modal"),D=R.querySelector(".modal__description"),T=R.querySelector(".modal__image"),w=document.querySelector("#edit-avatar-modal"),B=document.forms["edit-avatar-form"],P=B.elements.link,N=B.querySelector(".form__button_type_save"),O=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(e=>this._processResponse(e))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(e=>this._processResponse(e))}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(e=>this._processResponse(e))}addCard({name:e,link:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(e=>this._processResponse(e))}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(e=>this._processResponse(e))}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(e=>this._processResponse(e))}unlikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(e=>this._processResponse(e))}updateAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(e=>this._processResponse(e))}_processResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9b992123-8ee4-427e-9cb1-806d78626daa","Content-Type":"application/json"}});let j,J;function H(e){e.classList.add("modal_is-opened"),document.addEventListener("keydown",M)}function z(e){e.classList.remove("modal_is-opened"),document.removeEventListener("keydown",M)}function M(e){const t=document.querySelector(".modal_is-opened");"Escape"===e.key&&z(t)}function F(e){const t=$.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__image"),o=t.querySelector(".card__description"),n=t.querySelector(".card__button_type_like"),s=t.querySelector(".card__button_type_delete");return r.src=e.link,r.alt=e.name,o.textContent=e.name,e.isLiked&&n.classList.add("card__button_liked"),n.addEventListener("click",()=>function(e,t){e.classList.contains("card__button_liked")?O.unlikeCard(t._id).then(()=>e.classList.toggle("card__button_liked")).catch(e=>console.error(e)):O.likeCard(t._id).then(()=>e.classList.toggle("card__button_liked")).catch(e=>console.error(e))}(n,e)),s.addEventListener("click",()=>function(e,t){j=e,J=t._id,H(L)}(t,e)),r.addEventListener("click",()=>{D.textContent=o.textContent,T.src=r.src,T.alt=r.alt,H(R)}),t}O.getInitialCards().then(e=>e.forEach(e=>{!function(e){const t=F(e);A.append(t)}(e)})).catch(e=>console.error(e)),O.getUserInfo().then(e=>{return t=e,i.textContent=t.name,l.textContent=t.about,void(c.src=t.avatar);var t}).catch(e=>console.error(e)),b.addEventListener("submit",function(t){t.preventDefault(),E.textContent="Saving...";const o={name:q.value,link:C.value};O.addCard(o).then(e=>{E.textContent="Save";const t=F(e);A.prepend(t)}).catch(e=>console.error(e)),b.reset(),r(v,y,e),z(S)}),p.addEventListener("submit",function(e){e.preventDefault(),y.textContent="Saving...";const t={name:h.value,about:f.value};O.editUserInfo(t).then(e=>{!function(e){i.textContent=e.name,l.textContent=e.about}(e),y.textContent="Save"}).catch(e=>console.error(e)),z(_)}),d.addEventListener("click",()=>{H(_),h.value=i.textContent,f.value=l.textContent,v.forEach(t=>n(t,p,e))}),u.addEventListener("click",()=>{H(S),r(k,E,e)}),U.addEventListener("click",()=>z(L)),g.addEventListener("submit",function(e){e.preventDefault(),x.textContent="Deleting...",O.removeCard(J).then(()=>{j.remove(),x.textContent="Delete",z(L)}).catch(e=>console.error(e))}),m.addEventListener("click",()=>H(w)),B.addEventListener("submit",e=>{e.preventDefault(),N.textContent="Saving...";const t={avatar:P.value};O.updateAvatar(t).then(e=>{c.src=e.avatar,N.textContent="Save",z(w)}).catch(e=>console.error(e))});for(const e of I){const t=e.closest(".modal");e.addEventListener("click",()=>z(t))}var G;s.forEach(e=>{e.addEventListener("click",t=>{t.target===t.currentTarget&&z(e)})}),G=e,Array.from(document.querySelectorAll(G.formSelector)).forEach(e=>{const t=e.querySelector(G.submitButtonSelector),o=Array.from(e.querySelectorAll(G.inputSelector));o.forEach(s=>{s.addEventListener("input",()=>{n(s,e,G),r(o,t,G)})})})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T2IsZ0JBRXZEVyxFQUFPK0gsUUFBU25JLElBQ2RBLEVBQU1zRyxpQkFBaUIsUUFBUyxLQUM5QnBGLEVBQXNCbEIsRUFBT21CLEVBQU1iLEdBQ25DSCxFQUFrQkMsRUFBUStJLEVBQVc3SSxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBlcnJvckVsZW1lbnRTZWxlY3RvcjogXCIuZm9ybV9fZXJyb3ItbXNnXCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX2J1dHRvbl90eXBlX3NhdmVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0SW52YWxpZENsYXNzOiBcImZvcm1fX2lucHV0X2ludmFsaWRcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2Vycm9yLW1zZ192aXNpYmxlXCIsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbnB1dElzVmFsaWQoaW5wdXQpIHtcclxuICByZXR1cm4gaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhc0ludmFsaWRJbnB1dHMoaW5wdXRzKSB7XHJcbiAgcmV0dXJuIGlucHV0cy5zb21lKChpbnB1dCkgPT4gIWlucHV0SXNWYWxpZChpbnB1dCkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRzLCBidXR0b24sIGNvbmZpZykge1xyXG4gIGlmIChoYXNJbnZhbGlkSW5wdXRzKGlucHV0cykpIHtcclxuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VmFsaWRhdGlvbk1lc3NhZ2UoaW5wdXQpIHtcclxuICByZXR1cm4gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVZhbGlkYXRpb25NZXNzYWdlKGVycm9yRWxlbWVudCwgaW5wdXQpIHtcclxuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBnZXRWYWxpZGF0aW9uTWVzc2FnZShpbnB1dCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVJbnB1dFZhbGlkYXRpb24oaW5wdXQsIGZvcm0sIGNvbmZpZykge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm0ucXVlcnlTZWxlY3RvcihcclxuICAgIGAjJHtpbnB1dC5pZH0gKyAke2NvbmZpZy5lcnJvckVsZW1lbnRTZWxlY3Rvcn1gXHJcbiAgKTtcclxuXHJcbiAgaWYgKGlucHV0SXNWYWxpZChpbnB1dCkpIHtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0SW52YWxpZENsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIHVwZGF0ZVZhbGlkYXRpb25NZXNzYWdlKGVycm9yRWxlbWVudCwgaW5wdXQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEludmFsaWRDbGFzcyk7XHJcbiAgICB1cGRhdGVWYWxpZGF0aW9uTWVzc2FnZShlcnJvckVsZW1lbnQsIGlucHV0KTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVWYWxpZGF0aW9uKGNvbmZpZykge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuXHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybSkgPT4ge1xyXG4gICAgY29uc3Qgc3VibWl0QnRuID0gZm9ybS5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG5cclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIGhhbmRsZUlucHV0VmFsaWRhdGlvbihpbnB1dCwgZm9ybSwgY29uZmlnKTtcclxuICAgICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIHN1Ym1pdEJ0biwgY29uZmlnKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG4iLCJjb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIjtcclxuY29uc3QgQVBJX0tFWSA9IFwiOWI5OTIxMjMtOGVlNC00MjdlLTljYjEtODA2ZDc4NjI2ZGFhXCI7XHJcblxyXG5leHBvcnQgeyBCQVNFX1VSTCwgQVBJX0tFWSB9O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQge1xyXG4gIHNldHRpbmdzLFxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlLFxyXG4gIGhhbmRsZUlucHV0VmFsaWRhdGlvbixcclxuICBlbmFibGVWYWxpZGF0aW9uLFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IEFQSV9LRVksIEJBU0VfVVJMIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuY29uc3QgbW9kYWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuY29uc3QgcHJvZmlsZVRpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b25fdHlwZV90ZXh0XCIpO1xyXG5jb25zdCBwcm9maWxlTGFyZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbl90eXBlX2xhcmdlXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdEF2YXRhckJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcclxuICBcIi5idXR0b25fdHlwZV9lZGl0LWF2YXRhclwiXHJcbik7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlTmFtZUlucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtcy5uYW1lZEl0ZW0oXCJlZGl0LXByb2ZpbGUtZm9ybVwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVJbnB1dHMgPSBBcnJheS5mcm9tKFxyXG4gIGVkaXRQcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXHJcbik7XHJcbmNvbnN0IGVkaXRQcm9maWxlU3VibWl0QnV0dG9uID1cclxuICBlZGl0UHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIlt0eXBlPSdzdWJtaXQnXVwiKTtcclxuXHJcbmNvbnN0IG5ld1Bvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXBvc3QtbW9kYWxcIik7XHJcbmNvbnN0IG5ld1Bvc3RGb3JtID0gZG9jdW1lbnQuZm9ybXMubmFtZWRJdGVtKFwibmV3LXBvc3QtZm9ybVwiKTtcclxuY29uc3QgbmV3UG9zdExpbmtJbnB1dCA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2xpbmtcIik7XHJcbmNvbnN0IG5ld1Bvc3RDYXB0aW9uSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNjYXB0aW9uXCIpO1xyXG5jb25zdCBuZXdQb3N0SW5wdXRzID0gQXJyYXkuZnJvbShuZXdQb3N0Rm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpKTtcclxuY29uc3QgbmV3UG9zdFN1Ym1pdEJ1dHRvbiA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmZvcm1fX2J1dHRvbl90eXBlX3NhdmVcIlxyXG4pO1xyXG5cclxuY29uc3QgY29uZmlybU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtYXRpb24tbW9kYWxcIik7XHJcbmNvbnN0IGRlbGV0ZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImNvbmZpcm1hdGlvbi1mb3JtXCJdO1xyXG5jb25zdCBjb25maXJtU3VibWl0QnV0dG9uID0gZGVsZXRlRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2RlbGV0ZVwiKTtcclxuY29uc3QgY29uZmlybUNhbmNlbEJ1dHRvbiA9IGNvbmZpcm1Nb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2NhbmNlbFwiKTtcclxuXHJcbmNvbnN0IGNhcmRMaXN0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuY29uc3QgY2FyZFRlbXBsYXRlID0gY2FyZExpc3RFbC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcblxyXG5jb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2NsYXNzKj0nY2xvc2UnXVwiKTtcclxuXHJcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2VEZXNjcmlwdGlvbiA9IHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIubW9kYWxfX2Rlc2NyaXB0aW9uXCJcclxuKTtcclxuY29uc3QgcHJldmlld0ltYWdlQ2FyZEltYWdlID0gcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcblxyXG5jb25zdCBlZGl0QXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYXZhdGFyLW1vZGFsXCIpO1xyXG5jb25zdCBlZGl0QXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZWRpdC1hdmF0YXItZm9ybVwiXTtcclxuY29uc3QgZWRpdEF2YXRhcklucHV0ID0gZWRpdEF2YXRhckZvcm0uZWxlbWVudHNbXCJsaW5rXCJdO1xyXG5jb25zdCBlZGl0QXZhdGFyU3VibWl0QnV0dG9uID0gZWRpdEF2YXRhckZvcm0ucXVlcnlTZWxlY3RvcihcclxuICBcIi5mb3JtX19idXR0b25fdHlwZV9zYXZlXCJcclxuKTtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IEJBU0VfVVJMLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IEFQSV9LRVksXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmxldCBzZWxlY3RlZENhcmQ7XHJcbmxldCBzZWxlY3RlZENhcmRJZDtcclxuXHJcbmZ1bmN0aW9uIHNldFByb2ZpbGVDb250ZW50KHVzZXIpIHtcclxuICBwcm9maWxlVGl0bGVFbC50ZXh0Q29udGVudCA9IHVzZXIubmFtZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XHJcbiAgcHJvZmlsZUF2YXRhckltZy5zcmMgPSB1c2VyLmF2YXRhcjtcclxufVxyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKGNhcmRzKSA9PlxyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICByZW5kZXJDYXJkKGNhcmQsIFwiYXBwZW5kXCIpO1xyXG4gICAgfSlcclxuICApXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG5hcGlcclxuICAuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKChkYXRhKSA9PiBzZXRQcm9maWxlQ29udGVudChkYXRhKSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXNjYXBlS2V5RXhpdE1vZGFsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXNjYXBlS2V5RXhpdE1vZGFsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXNjYXBlS2V5RXhpdE1vZGFsKGV2dCkge1xyXG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuZWRcIik7XHJcblxyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSBjbG9zZU1vZGFsKG1vZGFsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgY29uc3QgY2FyZEltYWdlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICBjb25zdCBjYXJkVGl0bGVFbGVtZW50ID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZXNjcmlwdGlvblwiKTtcclxuICBjb25zdCBsaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b25fdHlwZV9saWtlXCIpO1xyXG4gIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uX3R5cGVfZGVsZXRlXCIpO1xyXG5cclxuICBjYXJkSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gIGNhcmRJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgY2FyZFRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuXHJcbiAgaWYgKGRhdGEuaXNMaWtlZCkge1xyXG4gICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fYnV0dG9uX2xpa2VkXCIpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgIGhhbmRsZUxpa2VCdXR0b25DbGljayhsaWtlQnV0dG9uLCBkYXRhKVxyXG4gICk7XHJcbiAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YSlcclxuICApO1xyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcHJldmlld0ltYWdlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBjYXJkVGl0bGVFbGVtZW50LnRleHRDb250ZW50O1xyXG4gICAgcHJldmlld0ltYWdlQ2FyZEltYWdlLnNyYyA9IGNhcmRJbWFnZS5zcmM7XHJcbiAgICBwcmV2aWV3SW1hZ2VDYXJkSW1hZ2UuYWx0ID0gY2FyZEltYWdlLmFsdDtcclxuICAgIG9wZW5Nb2RhbChwcmV2aWV3SW1hZ2VNb2RhbCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUJ1dHRvbkNsaWNrKGNhcmQsIGRhdGEpIHtcclxuICBpZiAoY2FyZC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19idXR0b25fbGlrZWRcIikpIHtcclxuICAgIGFwaVxyXG4gICAgICAudW5saWtlQ2FyZChkYXRhLl9pZClcclxuICAgICAgLnRoZW4oKCkgPT4gY2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fYnV0dG9uX2xpa2VkXCIpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5saWtlQ2FyZChkYXRhLl9pZClcclxuICAgICAgLnRoZW4oKCkgPT4gY2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fYnV0dG9uX2xpa2VkXCIpKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEpIHtcclxuICBzZWxlY3RlZENhcmQgPSBjYXJkRWxlbWVudDtcclxuICBzZWxlY3RlZENhcmRJZCA9IGRhdGEuX2lkO1xyXG4gIG9wZW5Nb2RhbChjb25maXJtTW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVTdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbmZpcm1TdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XHJcblxyXG4gIGFwaVxyXG4gICAgLnJlbW92ZUNhcmQoc2VsZWN0ZWRDYXJkSWQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHNlbGVjdGVkQ2FyZC5yZW1vdmUoKTtcclxuICAgICAgY29uZmlybVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCI7XHJcbiAgICAgIGNsb3NlTW9kYWwoY29uZmlybU1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTmV3UG9zdEZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIG5ld1Bvc3RTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG5cclxuICBjb25zdCBmb3JtRGF0YSA9IHtcclxuICAgIG5hbWU6IG5ld1Bvc3RDYXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgICBsaW5rOiBuZXdQb3N0TGlua0lucHV0LnZhbHVlLFxyXG4gIH07XHJcblxyXG4gIGFwaVxyXG4gICAgLmFkZENhcmQoZm9ybURhdGEpXHJcbiAgICAudGhlbigoY2FyZERhdGEpID0+IHtcclxuICAgICAgbmV3UG9zdFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGNhcmREYXRhKTtcclxuICAgICAgY2FyZExpc3RFbC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHJcbiAgbmV3UG9zdEZvcm0ucmVzZXQoKTtcclxuICB0b2dnbGVCdXR0b25TdGF0ZShlZGl0UHJvZmlsZUlucHV0cywgZWRpdFByb2ZpbGVTdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcclxuICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRleHRFbGVtZW50cyh1c2VyKSB7XHJcbiAgcHJvZmlsZVRpdGxlRWwudGV4dENvbnRlbnQgPSB1c2VyLm5hbWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGVkaXRQcm9maWxlU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgY29uc3QgZm9ybURhdGEgPSB7XHJcbiAgICBuYW1lOiBlZGl0UHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcclxuICAgIGFib3V0OiBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuXHJcbiAgYXBpXHJcbiAgICAuZWRpdFVzZXJJbmZvKGZvcm1EYXRhKVxyXG4gICAgLnRoZW4oKHVzZXIpID0+IHtcclxuICAgICAgdXBkYXRlVGV4dEVsZW1lbnRzKHVzZXIpO1xyXG4gICAgICBlZGl0UHJvZmlsZVN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG5cclxuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmQsIG1ldGhvZCkge1xyXG4gIGNvbnN0IGNhcmRFbCA9IGdldENhcmRFbGVtZW50KGNhcmQpO1xyXG4gIGNhcmRMaXN0RWxbbWV0aG9kXShjYXJkRWwpO1xyXG59XHJcblxyXG5uZXdQb3N0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZU5ld1Bvc3RGb3JtU3VibWl0KTtcclxuZWRpdFByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdFByb2ZpbGVGb3JtU3VibWl0KTtcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XHJcbiAgZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlVGl0bGVFbC50ZXh0Q29udGVudDtcclxuICBlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb25FbC50ZXh0Q29udGVudDtcclxuICBlZGl0UHJvZmlsZUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT5cclxuICAgIGhhbmRsZUlucHV0VmFsaWRhdGlvbihpbnB1dCwgZWRpdFByb2ZpbGVGb3JtLCBzZXR0aW5ncylcclxuICApO1xyXG59KTtcclxucHJvZmlsZUxhcmdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKG5ld1Bvc3RNb2RhbCk7XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUobmV3UG9zdElucHV0cywgbmV3UG9zdFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xyXG59KTtcclxuY29uZmlybUNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChjb25maXJtTW9kYWwpKTtcclxuZGVsZXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZURlbGV0ZVN1Ym1pdCk7XHJcbnByb2ZpbGVFZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gIG9wZW5Nb2RhbChlZGl0QXZhdGFyTW9kYWwpXHJcbik7XHJcbmVkaXRBdmF0YXJGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBlZGl0QXZhdGFyU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgY29uc3QgZm9ybURhdGEgPSB7IGF2YXRhcjogZWRpdEF2YXRhcklucHV0LnZhbHVlIH07XHJcblxyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihmb3JtRGF0YSlcclxuICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVBdmF0YXJJbWcuc3JjID0gdXNlci5hdmF0YXI7XHJcbiAgICAgIGVkaXRBdmF0YXJTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuXHJcbiAgICAgIGNsb3NlTW9kYWwoZWRpdEF2YXRhck1vZGFsKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxufSk7XHJcblxyXG5mb3IgKGNvbnN0IGJ1dHRvbiBvZiBjbG9zZUJ1dHRvbnMpIHtcclxuICBjb25zdCBwYXJlbnRNb2RhbCA9IGJ1dHRvbi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xyXG5cclxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwocGFyZW50TW9kYWwpKTtcclxufVxyXG5cclxubW9kYWxMaXN0LmZvckVhY2goKG1vZGFsKSA9PiB7XHJcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIF9wcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcGk7XHJcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJlcnJvckVsZW1lbnRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0SW52YWxpZENsYXNzIiwiZXJyb3JDbGFzcyIsImlucHV0SXNWYWxpZCIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRzIiwiYnV0dG9uIiwiY29uZmlnIiwic29tZSIsImhhc0ludmFsaWRJbnB1dHMiLCJkaXNhYmxlZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInVwZGF0ZVZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImdldFZhbGlkYXRpb25NZXNzYWdlIiwiaGFuZGxlSW5wdXRWYWxpZGF0aW9uIiwiZm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsIm1vZGFsTGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInByb2ZpbGUiLCJwcm9maWxlQXZhdGFySW1nIiwicHJvZmlsZVRpdGxlRWwiLCJwcm9maWxlRGVzY3JpcHRpb25FbCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUxhcmdlQnRuIiwicHJvZmlsZUVkaXRBdmF0YXJCdXR0b24iLCJlZGl0UHJvZmlsZU1vZGFsIiwiZWRpdFByb2ZpbGVOYW1lSW5wdXQiLCJlZGl0UHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJlZGl0UHJvZmlsZUZvcm0iLCJmb3JtcyIsIm5hbWVkSXRlbSIsImVkaXRQcm9maWxlSW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwiZWRpdFByb2ZpbGVTdWJtaXRCdXR0b24iLCJuZXdQb3N0TW9kYWwiLCJuZXdQb3N0Rm9ybSIsIm5ld1Bvc3RMaW5rSW5wdXQiLCJuZXdQb3N0Q2FwdGlvbklucHV0IiwibmV3UG9zdElucHV0cyIsIm5ld1Bvc3RTdWJtaXRCdXR0b24iLCJjb25maXJtTW9kYWwiLCJkZWxldGVGb3JtIiwiY29uZmlybVN1Ym1pdEJ1dHRvbiIsImNvbmZpcm1DYW5jZWxCdXR0b24iLCJjYXJkTGlzdEVsIiwiY2FyZFRlbXBsYXRlIiwiY2xvc2VCdXR0b25zIiwicHJldmlld0ltYWdlTW9kYWwiLCJwcmV2aWV3SW1hZ2VEZXNjcmlwdGlvbiIsInByZXZpZXdJbWFnZUNhcmRJbWFnZSIsImVkaXRBdmF0YXJNb2RhbCIsImVkaXRBdmF0YXJGb3JtIiwiZWRpdEF2YXRhcklucHV0IiwiZWxlbWVudHMiLCJlZGl0QXZhdGFyU3VibWl0QnV0dG9uIiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwiX3Byb2Nlc3NSZXNwb25zZSIsImdldFVzZXJJbmZvIiwiZWRpdFVzZXJJbmZvIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwibGluayIsInJlbW92ZUNhcmQiLCJjYXJkSWQiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJ1cGRhdGVBdmF0YXIiLCJhdmF0YXIiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhdXRob3JpemF0aW9uIiwic2VsZWN0ZWRDYXJkIiwic2VsZWN0ZWRDYXJkSWQiLCJvcGVuTW9kYWwiLCJtb2RhbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlc2NhcGVLZXlFeGl0TW9kYWwiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZSIsImNhcmRUaXRsZUVsZW1lbnQiLCJsaWtlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwic3JjIiwiYWx0IiwiaXNMaWtlZCIsImNhcmQiLCJjb250YWlucyIsIl9pZCIsInRvZ2dsZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaGFuZGxlTGlrZUJ1dHRvbkNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImNhcmRzIiwiZm9yRWFjaCIsImNhcmRFbCIsInJlbmRlckNhcmQiLCJzZXRQcm9maWxlQ29udGVudCIsInVzZXIiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwidmFsdWUiLCJjYXJkRGF0YSIsInByZXBlbmQiLCJyZXNldCIsInVwZGF0ZVRleHRFbGVtZW50cyIsInBhcmVudE1vZGFsIiwiY2xvc2VzdCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJzdWJtaXRCdG4iXSwic291cmNlUm9vdCI6IiJ9